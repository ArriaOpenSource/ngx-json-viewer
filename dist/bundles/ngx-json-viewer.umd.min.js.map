{"version":3,"file":"ngx-json-viewer.umd.min.js","sources":["~/ngx-json-viewer/src/ngx-json-viewer/ngx-json-viewer.component.ts","~/ngx-json-viewer/src/ngx-json-viewer.module.ts"],"sourcesContent":["import { Component, OnChanges, Input } from '@angular/core';\n\nexport interface Segment {\n  key: string;\n  value: any;\n  type: undefined | string;\n  description: string;\n  expanded: boolean;\n}\n\n@Component({\n  selector: 'ngx-json-viewer',\n  template: `\n    <section class=\"ngx-json-viewer\">\n      <section\n        *ngFor=\"let segment of segments\"\n        [ngClass]=\"['segment', 'segment-type-' + segment.type]\">\n        <section\n          (click)=\"toggle(segment)\"\n          [ngClass]=\"{\n            'segment-main': true,\n            'expandable': isExpandable(segment),\n            'expanded': segment.expanded\n          }\">\n          <div *ngIf=\"isExpandable(segment)\" class=\"toggler\"></div>\n          <span class=\"segment-key\">{{ segment.key }}</span>\n          <span class=\"segment-separator\">: </span>\n          <span *ngIf=\"!segment.expanded || !isExpandable(segment)\" class=\"segment-value\">{{ segment.description }}</span>\n        </section>\n        <section *ngIf=\"segment.expanded && isExpandable(segment)\" class=\"children\">\n          <ngx-json-viewer [json]=\"segment.value\" [expanded]=\"expanded\"></ngx-json-viewer>\n        </section>\n      </section>\n    </section>\n  `,\n  styles: [`\n    @charset \"UTF-8\";\n    .ngx-json-viewer {\n      font-family: monospace;\n      font-size: 1em;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n      position: relative; }\n      .ngx-json-viewer .segment {\n        padding: 2px;\n        margin: 1px 1px 1px 12px; }\n        .ngx-json-viewer .segment .segment-main {\n          word-wrap: break-word; }\n          .ngx-json-viewer .segment .segment-main .toggler {\n            position: absolute;\n            margin-left: -14px;\n            margin-top: 3px;\n            font-size: .8em;\n            line-height: 1.2em;\n            vertical-align: middle;\n            color: #787878; }\n            .ngx-json-viewer .segment .segment-main .toggler::after {\n              display: inline-block;\n              content: \"â–º\";\n              -webkit-transition: -webkit-transform 0.1s ease-in;\n              transition: -webkit-transform 0.1s ease-in;\n              transition: transform 0.1s ease-in;\n              transition: transform 0.1s ease-in, -webkit-transform 0.1s ease-in; }\n          .ngx-json-viewer .segment .segment-main .segment-key {\n            color: #4E187C; }\n          .ngx-json-viewer .segment .segment-main .segment-separator {\n            color: #999; }\n          .ngx-json-viewer .segment .segment-main .segment-value {\n            color: #000; }\n        .ngx-json-viewer .segment .children {\n          margin-left: 12px; }\n      .ngx-json-viewer .segment-type-string > .segment-main > .segment-value {\n        color: #FF6B6B; }\n      .ngx-json-viewer .segment-type-number > .segment-main > .segment-value {\n        color: #009688; }\n      .ngx-json-viewer .segment-type-boolean > .segment-main > .segment-value {\n        color: #b938a4; }\n      .ngx-json-viewer .segment-type-date > .segment-main > .segment-value {\n        color: #05668D; }\n      .ngx-json-viewer .segment-type-array > .segment-main > .segment-value {\n        color: #999; }\n      .ngx-json-viewer .segment-type-object > .segment-main > .segment-value {\n        color: #999; }\n      .ngx-json-viewer .segment-type-function > .segment-main > .segment-value {\n        color: #999; }\n      .ngx-json-viewer .segment-type-null > .segment-main > .segment-value {\n        color: #fff; }\n      .ngx-json-viewer .segment-type-undefined > .segment-main > .segment-value {\n        color: #fff; }\n      .ngx-json-viewer .segment-type-null > .segment-main > .segment-value {\n        background-color: red; }\n      .ngx-json-viewer .segment-type-undefined > .segment-main > .segment-key {\n        color: #999; }\n      .ngx-json-viewer .segment-type-undefined > .segment-main > .segment-value {\n        background-color: #999; }\n      .ngx-json-viewer .segment-type-object > .segment-main,\n      .ngx-json-viewer .segment-type-array > .segment-main {\n        white-space: nowrap; }\n      .ngx-json-viewer .expanded > .toggler::after {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); }\n      .ngx-json-viewer .expandable,\n      .ngx-json-viewer .expandable > .toggler {\n        cursor: pointer; }\n  `]\n})\nexport class NgxJsonViewerComponent implements OnChanges {\n\n  @Input() json: any;\n  @Input() expanded = true;\n  /**\n   * @deprecated It will be always true and deleted in version 3.0.0\n   */\n  @Input() cleanOnChange = true;\n\n  segments: Segment[] = [];\n\n  ngOnChanges() {\n    if (this.cleanOnChange) {\n      this.segments = [];\n    }\n\n    if (typeof this.json === 'object') {\n      Object.keys(this.json).forEach( key => {\n        this.segments.push(this.parseKeyValue(key, this.json[key]));\n      });\n    } else {\n      this.segments.push(this.parseKeyValue(`(${typeof this.json})`, this.json));\n    }\n  }\n\n  isExpandable(segment: Segment) {\n    return segment.type === 'object' || segment.type === 'array';\n  }\n\n  toggle(segment: Segment) {\n    if (this.isExpandable(segment)) {\n      segment.expanded = !segment.expanded;\n    }\n  }\n\n  private parseKeyValue(key: any, value: any): Segment {\n    const segment: Segment = {\n      key: key,\n      value: value,\n      type: undefined,\n      description: '' + value,\n      expanded: this.expanded\n    };\n\n    switch (typeof segment.value) {\n      case 'number': {\n        segment.type = 'number';\n        break;\n      }\n      case 'boolean': {\n        segment.type = 'boolean';\n        break;\n      }\n      case 'function': {\n        segment.type = 'function';\n        break;\n      }\n      case 'string': {\n        segment.type = 'string';\n        segment.description = '\"' + segment.value + '\"';\n        break;\n      }\n      case 'undefined': {\n        segment.type = 'undefined';\n        segment.description = 'undefined';\n        break;\n      }\n      case 'object': {\n        // yea, null is object\n        if (segment.value === null) {\n          segment.type = 'null';\n          segment.description = 'null';\n        } else if (Array.isArray(segment.value)) {\n          segment.type = 'array';\n          segment.description = 'Array[' + segment.value.length + '] ' + JSON.stringify(segment.value);\n        } else if (segment.value instanceof Date) {\n          segment.type = 'date';\n        } else {\n          segment.type = 'object';\n          segment.description = 'Object ' + JSON.stringify(segment.value);\n        }\n        break;\n      }\n    }\n\n    return segment;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { NgxJsonViewerComponent } from './ngx-json-viewer/ngx-json-viewer.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    NgxJsonViewerComponent\n  ],\n  exports: [\n    NgxJsonViewerComponent\n  ]\n})\nexport class NgxJsonViewerModule { }\n"],"names":["NgxJsonViewerComponent","prototype","ngOnChanges","_this","this","cleanOnChange","segments","json","Object","keys","forEach","key","push","parseKeyValue","isExpandable","segment","type","toggle","expanded","value","undefined","description","Array","isArray","length","JSON","stringify","Date","decorators","Component","args","selector","template","styles","ctorParameters","propDecorators","Input","NgxJsonViewerModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"qTASA,IAAAA,GAaAA,EAAAC,UAAAC,YAAA,WAAA,IAAAC,EAAAC,KACQA,KAAKC,gBACPD,KAAKE,SAAW,IAGO,iBAAdF,KAAKG,KACdC,OAAOC,KAAKL,KAAKG,MAAMG,QAAS,SAAAC,GAC9BR,EAAKG,SAASM,KAAKT,EAAKU,cAAcF,EAAKR,EAAKI,KAAKI,OAGvDP,KAAKE,SAASM,KAAKR,KAAKS,cAAc,WAAWT,KAAKG,KAA5D,IAAqEH,KAAKG,QAO1EP,EAAAC,UAAAa,aAAA,SAHGC,GAIC,MAHwB,WAAjBA,EAAQC,MAAsC,UAAjBD,EAAQC,MAShDhB,EAAAC,UAAAgB,OAAA,SANGF,GAOKX,KANKU,aAAaC,KAOpBA,EANQG,UAAWH,EAASG,WAI/BlB,EAAHC,UAAAY,cAAG,SAAAF,EAAAQ,GAWC,IAVMJ,EAAmB,CAWvBJ,IAVKA,EAWLQ,MAVOA,EAWPH,KAVMI,UAWNC,YAVa,GAAKF,EAWlBD,SAVUd,KAAKc,UAajB,cAVeH,EAAQI,OAWrB,IAVK,SAWHJ,EAVQC,KAAO,SAWf,MAEF,IAVK,UAWHD,EAVQC,KAAO,UAWf,MAEF,IAVK,WAWHD,EAVQC,KAAO,WAWf,MAEF,IAVK,SAWHD,EAVQC,KAAO,SAWfD,EAVQM,YAAc,IAAMN,EAAQI,MAAQ,IAW5C,MAEF,IAVK,YAWHJ,EAVQC,KAAO,YAWfD,EAVQM,YAAc,YAWtB,MAEF,IAVK,SAEmB,OAUlBN,EAVQI,OAWVJ,EAVQC,KAAO,OAWfD,EAVQM,YAAc,QACjBC,MAAUC,QAAQR,EAAQI,QAW/BJ,EAVQC,KAAO,QAWfD,EAVQM,YAAc,SAAWN,EAAQI,MAAMK,OAAS,KAAOC,KAAKC,UAAUX,EAAQI,QACjFJ,EAAYI,iBAAiBQ,KAWlCZ,EAVQC,KAAO,QAYfD,EAVQC,KAAO,SAWfD,EAVQM,YAAc,UAAYI,KAAKC,UAAUX,EAAQI,QAgB/D,OAVOJ,MAvFX,SAAAf,IAGGI,KAAHc,UAEc,EAEdd,KAAAC,eAEI,EAAFD,KAAFE,SAEwB,GA8EjBN,EAAP4B,WAA2C,CAW3C,CAVEZ,KAAMa,EAAAA,UAAWC,KAAM,CAAA,CAWvBC,SAVU,kBAWVC,SAVU,i8BAiCVC,OAVQ,CAAA,2kGA0ETjC,EAADkC,eAAC,WAAA,MAAA,IAEMlC,EAAPmC,eAAgE,CAahE5B,KAZQ,CAAA,CAAGS,KAAMoB,EAAAA,QAajBlB,SAZY,CAAA,CAAGF,KAAMoB,EAAAA,QAarB/B,cAZiB,CAAA,CAAGW,KAAMoB,EAAAA,SCvM1B,IAAAC,EAAA,aAE0CA,EAA1CT,WAA8E,CAD9E,CAEEZ,KAAMsB,EAAAA,SAAUR,KAAM,CAAA,CADtBS,QAES,CADPC,EAAAA,cAEFC,aAEc,CADZzC,GAEF0C,QAES,CADP1C,OAOHqC,EAADH,eAAC,WAAA,MAAA"}
