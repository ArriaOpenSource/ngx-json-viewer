!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-json-viewer",["exports","@angular/core","@angular/common"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-json-viewer"]={},e.ng.core,e.ng.common)}(this,(function(e,n,t){"use strict";var s=function(){function e(){this.expanded=!0,this.depth=-1,this.restoreExpanded=!1,this.showTypeHeadings=!1,this._currentDepth=-1,this.nextOpenKeys={},this.segments=[]}return e.prototype.getOpenKeysRecursive=function(){var e={};if(this.childrenComponents.forEach((function(n){e[n._key]=n.getOpenKeysRecursive()})),0!==Object.keys(e).length)return e},e.prototype.openSegments=function(){var e=this;Object.keys(this._previouslyOpenKeys).forEach((function(n){var t=e.segments.find((function(e){return e.key===n}));t&&e.isExpandable(t)&&(t.expanded=!0)}))},e.prototype.ngOnChanges=function(){var e=this;this.restoreExpanded&&this.childrenComponents&&(this._previouslyOpenKeys=this.getOpenKeysRecursive()),this.segments=[],this.json=this.decycle(this.json),this._currentDepth++,"object"==typeof this.json?Object.keys(this.json).forEach((function(n){e.segments.push(e.parseKeyValue(n,e.json[n]))})):this.segments.push(this.parseKeyValue("("+typeof this.json+")",this.json)),this._previouslyOpenKeys&&this.openSegments()},e.prototype.isExpandable=function(e){return"object"===e.type||"array"===e.type},e.prototype.toggle=function(e){this.isExpandable(e)&&(e.expanded=!e.expanded)},e.prototype.parseKeyValue=function(e,n){var t={key:e,value:n,type:void 0,description:""+n,expanded:this.isExpanded()};switch(typeof t.value){case"number":t.type="number";break;case"boolean":t.type="boolean";break;case"function":t.type="function";break;case"string":t.type="string",t.description='"'+t.value+'"';break;case"undefined":t.type="undefined",t.description="undefined";break;case"object":null===t.value?(t.type="null",t.description="null"):Array.isArray(t.value)?(t.type="array",t.description="Array["+t.value.length+"] "+JSON.stringify(t.value)):t.value instanceof Date?t.type="date":(t.type="object",t.description="Object "+JSON.stringify(t.value))}return t},e.prototype.isExpanded=function(){return this.expanded&&!(this.depth>-1&&this._currentDepth>=this.depth)},e.prototype.decycle=function(e){var n=new WeakMap;return function e(t,s){var r,o;return"object"!=typeof t||null===t||t instanceof Boolean||t instanceof Date||t instanceof Number||t instanceof RegExp||t instanceof String?t:void 0!==(r=n.get(t))?{$ref:r}:(n.set(t,s),Array.isArray(t)?(o=[],t.forEach((function(n,t){o[t]=e(n,s+"["+t+"]")}))):(o={},Object.keys(t).forEach((function(n){o[n]=e(t[n],s+"["+JSON.stringify(n)+"]")}))),o)}(e,"$")},e}();s.decorators=[{type:n.Component,args:[{selector:"ngx-json-viewer",template:'<section class="ngx-json-viewer">\r\n  <section *ngFor="let segment of segments" [ngClass]="[\'segment\', \'segment-type-\' + segment.type]">\r\n    <section\r\n      (click)="toggle(segment)"\r\n      [ngClass]="{\r\n        \'segment-main\': true,\r\n        expandable: isExpandable(segment),\r\n        expanded: segment.expanded\r\n      }"\r\n    >\r\n      <div *ngIf="isExpandable(segment)" class="toggler"></div>\r\n      <span class="segment-key">{{ segment.key }}</span>\r\n      <span class="segment-separator">: </span>\r\n      <span *ngIf="!segment.expanded || !isExpandable(segment)" class="segment-value">{{\r\n        segment.description\r\n      }}</span>\r\n      <span\r\n        *ngIf="showTypeHeadings && segment.expanded && segment.type == \'array\'"\r\n        class="segment-value"\r\n        >Array[{{ segment.value.length }}]</span\r\n      >\r\n      <span\r\n        *ngIf="showTypeHeadings && segment.expanded && segment.type == \'object\'"\r\n        class="segment-value"\r\n        >Object</span\r\n      >\r\n    </section>\r\n    <section *ngIf="segment.expanded && isExpandable(segment)" class="children">\r\n      <ngx-json-viewer\r\n        [json]="segment.value"\r\n        [expanded]="expanded"\r\n        [depth]="depth"\r\n        [_key]="segment.key"\r\n        [_currentDepth]="_currentDepth"\r\n        [_previouslyOpenKeys]="_previouslyOpenKeys && _previouslyOpenKeys[segment.key]"\r\n      ></ngx-json-viewer>\r\n    </section>\r\n  </section>\r\n</section>\r\n',styles:['@charset "UTF-8";.ngx-json-viewer{font-family:monospace;font-size:1em;width:100%;height:100%;overflow:hidden;position:relative}.ngx-json-viewer .segment{padding:0;margin:0 0 1px 12px}.ngx-json-viewer .segment .segment-main{word-wrap:break-word}.ngx-json-viewer .segment .segment-main .toggler{position:absolute;margin-left:-14px;margin-top:3px;font-size:.8em;line-height:1.2em;vertical-align:middle;color:#787878}.ngx-json-viewer .segment .segment-main .toggler:after{display:inline-block;content:"â–º";transition:transform .1s ease-in}.ngx-json-viewer .segment .segment-main .segment-key{color:#00008b;word-wrap:break-word;white-space:pre-line}.ngx-json-viewer .segment .segment-main .segment-separator{color:#00008b}.ngx-json-viewer .segment .segment-main .segment-value{color:#000}.ngx-json-viewer .segment .children{margin-left:4px}.ngx-json-viewer .segment-type-string>.segment-main>.segment-value{color:green}.ngx-json-viewer .segment-type-number>.segment-main>.segment-value{color:#00f}.ngx-json-viewer .segment-type-boolean>.segment-main>.segment-value{color:red}.ngx-json-viewer .segment-type-date>.segment-main>.segment-value{color:#05668d}.ngx-json-viewer .segment-type-array>.segment-main>.segment-value,.ngx-json-viewer .segment-type-function>.segment-main>.segment-value,.ngx-json-viewer .segment-type-object>.segment-main>.segment-value{color:#999}.ngx-json-viewer .segment-type-null>.segment-main>.segment-value,.ngx-json-viewer .segment-type-undefined>.segment-main>.segment-value{color:#855a00}.ngx-json-viewer .segment-type-undefined>.segment-main>.segment-key{color:#999}.ngx-json-viewer .segment-type-undefined>.segment-main>.segment-value{background-color:#999}.ngx-json-viewer .segment-type-array>.segment-main,.ngx-json-viewer .segment-type-object>.segment-main{white-space:nowrap}.ngx-json-viewer .expanded>.toggler:after{transform:rotate(90deg)}.ngx-json-viewer .expandable>.segment-value{display:inline-block;vertical-align:bottom;text-overflow:ellipsis;overflow:hidden}.ngx-json-viewer .expandable,.ngx-json-viewer .expandable>.toggler{cursor:pointer}']}]}],s.propDecorators={json:[{type:n.Input}],expanded:[{type:n.Input}],depth:[{type:n.Input}],restoreExpanded:[{type:n.Input}],showTypeHeadings:[{type:n.Input}],_key:[{type:n.Input}],_previouslyOpenKeys:[{type:n.Input}],_currentDepth:[{type:n.Input}],childrenComponents:[{type:n.ViewChildren,args:[s]}]};var r=function(){};r.decorators=[{type:n.NgModule,args:[{imports:[t.CommonModule],declarations:[s],exports:[s]}]}],e.NgxJsonViewerComponent=s,e.NgxJsonViewerModule=r,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-json-viewer.umd.min.js.map